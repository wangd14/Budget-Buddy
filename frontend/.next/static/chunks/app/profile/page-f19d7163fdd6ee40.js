(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{9217:function(e,s,t){Promise.resolve().then(t.bind(t,5009))},5009:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return p}});var r=t(3827),l=t(4090),n=t(5994),i=t(703),a={src:"/_next/static/media/pfp.67bbde72.webp",height:600,width:600,blurDataURL:"data:image/webp;base64,UklGRkQAAABXRUJQVlA4IDgAAADwAQCdASoIAAgAAkA4JaQAAvwdPWlMfAAA/vQVt9PAv4dBdZXMrnuEvLZ9FmSi6ZAHeqyOowIAAA==",blurWidth:8,blurHeight:8},o={src:"/_next/static/media/pfphover.1c34171e.webp",height:600,width:600,blurDataURL:"data:image/webp;base64,UklGRjgAAABXRUJQVlA4ICwAAACwAQCdASoIAAgAAkA4JaQAAxf9WkVoAP7zUK+YAIijkR6+UNcfDZZK8CAAAA==",blurWidth:8,blurHeight:8},c=t(4907),d=t(7535),u=t(1544),h=t(4870),x=t(7907);let m={email:"",exists:!1,fname:"",lname:"",msgs:[],orgs:[],uid:""};function b(){let{user:e}=(0,h.Eu)(),s=(0,x.useRouter)(),[t,n]=(0,l.useState)(m),[b,p]=(0,l.useState)(null),[f,j]=(0,l.useState)(a),[g,w]=(0,l.useState)(!1),[N,v]=(0,l.useState)(!0),[A,y]=(0,l.useState)(""),[k,C]=(0,l.useState)(""),S=async s=>{s.preventDefault();try{await fetch("http://localhost:3000/user/"+e.uid+"?token=token",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({fname:A,lname:k})})}catch(e){console.log(e)}y(""),C(""),w(!1),v(!0)};return(0,l.useEffect)(()=>{e?(async()=>{let s=await fetch("http://localhost:3000/user/"+e.uid+"?token"+e.accessToken);n((await s.json()).data)})():s.push("/")},[s,e]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center p-8 mx-auto",children:[(0,r.jsx)("input",{type:"file",id:"profile_pic",name:"profile_pic",accept:".jpg, .jpeg, .png",onChange:e=>{e.target.files&&e.target.files[0]&&p(e.target.files[0])},hidden:!0}),(0,r.jsx)("label",{htmlFor:"profile_pic",className:"w-fit",children:(0,r.jsx)(i.default,{unoptimized:!0,id:"pfp",src:null!=b?URL.createObjectURL(b):f,width:100,height:100,alt:"pfp",className:"rounded-full object-cover",onMouseOver:()=>{j(o)},onMouseOut:()=>{j(a)}})}),b&&(0,r.jsx)("button",{className:"w-fit text-red-500",onClick:()=>p(null),children:"Remove Profile Image"}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-content-space-between w-full ",children:[(0,r.jsxs)("div",{className:"flex-column justify-content-space-around w-full m-1",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Personal Info:"}),"\xa0"]}),(0,r.jsxs)("div",{className:"flex p-2 border-2 border-white",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"First Name:"}),"\xa0"]}),(0,r.jsx)("p",{children:t?t.fname:"First Name"})]}),(0,r.jsxs)("div",{className:"flex p-2 border-l-2 border-r-2 border-b-2 border-white",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Last Name:"}),"\xa0"]}),(0,r.jsx)("p",{children:t?t.lname:"Last Name"})]}),(0,r.jsxs)("div",{className:"flex p-2 border-l-2 border-r-2 border-b-2 border-white",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Email:"}),"\xa0"]}),(0,r.jsx)("p",{children:t?t.email:"Email"})]}),(0,r.jsxs)("div",{className:"flex p-2 border-l-2 border-r-2 border-b-2 border-white",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Account Created:"}),"\xa0"]}),(0,r.jsx)("p",{children:e?e.metadata.creationTime:""})]}),(0,r.jsxs)("div",{className:"flex p-2 border-l-2 border-r-2 border-b-2 border-white",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Last Login:"}),"\xa0"]}),(0,r.jsx)("p",{children:e?e.metadata.lastSignInTime:""})]})]}),(0,r.jsxs)("div",{className:"flex-column justify-content-space-around w-full m-1",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Stats:"}),"\xa0"]}),(0,r.jsxs)("div",{className:"flex p-2 border-2 border-white",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Number of Organization:"}),"\xa0"]}),(0,r.jsx)("p",{children:t?t.orgs.length:"Number of orgs"})]}),(0,r.jsxs)("div",{className:"flex p-2 border-2 border-white",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Messages:"}),"\xa0"]}),(0,r.jsx)("p",{children:t?t.msgs.length:"Message Count"})]})]})]}),N&&(0,r.jsx)(u.zx,{className:"w-fit mt-4 rounded-2xl bg-blue hover:bg-blue/50 outline-non border-white border-2",onClick:()=>{w(!0),v(!1)},children:"Update Profile"})]}),g&&(0,r.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50 backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"outline bg-black/20 p-6 rounded-xl sm:w-1/2",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Edit"}),(0,r.jsx)(c.G,{icon:d.EOp,className:"hover:text-red-500 hidden sm:block hover:cursor-pointer text-lg",onClick:()=>{w(!1),v(!0)}})]}),(0,r.jsxs)("form",{onSubmit:S,className:"flex flex-col ",children:[(0,r.jsx)("label",{className:"mb-1 hidden sm:block",children:"New First name:"}),(0,r.jsx)("input",{className:"border rounded-md p-2 mb-4 text-black",type:"text",id:"name",name:"name",value:A,onChange:e=>y(e.target.value),placeholder:"New First Name"}),(0,r.jsx)("label",{className:"mb-1 hidden sm:block",children:"New Last name:"}),(0,r.jsx)("input",{className:"border rounded-md p-2 mb-4 text-black",type:"text",id:"name",name:"name",value:k,onChange:e=>C(e.target.value),placeholder:"New Last Name"}),(0,r.jsx)("button",{className:"bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700",type:"submit",style:{backgroundColor:"#3b82f6"},onClick:()=>S,children:"Save"})]}),(0,r.jsx)("button",{className:"w-full bg-slate-500 text-white font-bold py-2 px-4 rounded hover:bg-slate-700 sm:hidden mt-2",type:"submit",onClick:()=>{w(!1),v(!0)},children:"Close"})]})})]})}function p(){let e=(0,h.Eu)(),s=(0,x.useRouter)();return(0,l.useEffect)(()=>{e||s.push("/")},[s,e]),(0,r.jsxs)("div",{className:"h-full ",children:[(0,r.jsx)(n.Z,{showProfile:!0,isProfilePage:!0}),(0,r.jsx)(b,{})]})}},5994:function(e,s,t){"use strict";t.d(s,{Z:function(){return h}});var r=t(3827),l=t(4090),n=t(8792),i=t(3819),a=t(7907),o=t(4907),c=t(7535),d=t(4870);let u={showProfile:!1,isProfilePage:!1};function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{...u},[s,t]=(0,l.useState)(!1),[h,x]=(0,l.useState)([]),{user:m}=(0,d.Eu)(),b=(0,a.useRouter)(),p=async()=>{console.log("hellooo i am coming to log out now");let{result:e,error:s}=await (0,i.Z)();console.log("response: ",e),console.log("error: ",s),b.push("/")};return(0,r.jsxs)("nav",{className:"flex border-b-4 border-b-white py-2 items-center",children:[(0,r.jsx)(n.default,{href:"../welcome",className:"items-center flex flex-1 ml-4",children:(0,r.jsx)("p",{className:"text-4xl font-extrabold",children:"Budget Buddy"})}),e.showProfile&&!e.isProfilePage&&(0,r.jsxs)("div",{className:"flex items-center justify-end flex-1",children:[(0,r.jsx)(o.G,{icon:c.wK3,onClick:()=>{t(!0)},className:"mr-4 text-2xl cursor-pointer rounded-lg hover:bg-white hover:text-black p-1"}),(0,r.jsxs)(n.default,{href:"../profile",className:"text-white font-medium rounded-2xl px-3 mr-4 float-right border-white border-2 hover:cursor-pointer hover:bg-white hover:text-sky-900 ",children:[(0,r.jsx)(o.G,{icon:c.ILF,className:"sm:hidden"}),(0,r.jsx)("p",{className:"hidden sm:block",children:"Profile"})]})]}),e.isProfilePage&&(0,r.jsxs)("button",{onClick:p,className:"text-white font-medium rounded-2xl px-3 mr-4 float-right border-white border-2 hover:cursor-pointer hover:bg-white hover:text-sky-900 ",children:[(0,r.jsx)(o.G,{icon:c.HEx,className:"sm:hidden"}),(0,r.jsx)("p",{className:"hidden sm:block",children:"Logout?"})]}),s&&(0,r.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50 backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"outline bg-black/20 p-6 rounded-xl w-11/12 sm:w-3/5 md:w-1/2",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold",children:"Messages"}),(0,r.jsx)(o.G,{icon:c.EOp,onClick:()=>t(!1),className:"text-xl ml-auto cursor-pointer hover:border-white border-2 border-transparent rounded px-1"})]}),(0,r.jsx)("hr",{className:"mb-4"}),h.map((e,s)=>(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("p",{className:"text-2xl font-semibold",children:e.title}),(0,r.jsx)("p",{className:"italic",children:new Date(e.time).toLocaleString()})]}),(0,r.jsx)("p",{className:"py-1 px-2 border rounded-md bg-black/70 mb-2",children:e.text}),e.link&&(0,r.jsxs)("div",{className:"flex w-full justify-between gap-2",children:[(0,r.jsxs)("div",{className:"flex gap-2 items-center w-1/2 bg-green-500 font-bold py-2 px-4 rounded hover:bg-green-700 cursor-pointer",children:[(0,r.jsx)(o.G,{icon:c.LEp,className:"text-2xl scale-y-1 cursor-pointer"}),(0,r.jsx)("p",{children:"Accept"})]}),(0,r.jsxs)("div",{className:"flex gap-2 items-center w-1/2 bg-red-600  font-bold py-2 px-4 rounded hover:bg-red-800 cursor-pointer",children:[(0,r.jsx)(o.G,{icon:c.EOp,className:"text-2xl scale-y-1 cursor-pointer"}),(0,r.jsx)("p",{children:"Reject"})]})]})]},s))]})})]})}},4870:function(e,s,t){"use strict";t.d(s,{Eu:function(){return c},HD:function(){return d}});var r=t(3827),l=t(4090),n=t(2730),i=t(9557);let a=(0,n.v0)(i.Z),o=l.createContext({}),c=()=>l.useContext(o),d=e=>{let{children:s}=e,[t,i]=l.useState(null),[c,d]=l.useState(!0);return l.useEffect(()=>{let e=(0,n.Aj)(a,e=>{e?i(e):i(null),d(!1)});return()=>e()},[]),(0,r.jsx)(o.Provider,{value:{user:t},children:c?(0,r.jsx)("div",{children:"Loading..."}):s})}},3819:function(e,s,t){"use strict";t.d(s,{Z:function(){return i}});var r=t(9557),l=t(2730);let n=(0,l.v0)(r.Z);async function i(){let e=null;return(0,l.w7)(n).then(()=>{e="yippe"}).catch(s=>{e="error happened."}),{result:e,error:null}}},9557:function(e,s,t){"use strict";var r=t(6142);let l=0===(0,r.C6)().length?(0,r.ZF)({apiKey:"AIzaSyC-Sn8RuFy4Tpq8T43s-0EwH6wmbAsuNIc",authDomain:"josh-b240a.firebaseapp.com",projectId:"josh-b240a",storageBucket:"josh-b240a.appspot.com",messagingSenderId:"1030936495421",appId:"1:1030936495421:web:734c0da55458cbfb463154"}):(0,r.C6)()[0];s.Z=l}},function(e){e.O(0,[54,676,422,699,501,498,250,640,222,971,69,744],function(){return e(e.s=9217)}),_N_E=e.O()}]);