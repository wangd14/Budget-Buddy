(()=>{var e={};e.id=603,e.ids=[603],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},852:e=>{"use strict";e.exports=require("async_hooks")},4300:e=>{"use strict";e.exports=require("buffer")},6206:e=>{"use strict";e.exports=require("console")},6113:e=>{"use strict";e.exports=require("crypto")},7643:e=>{"use strict";e.exports=require("diagnostics_channel")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5158:e=>{"use strict";e.exports=require("http2")},1808:e=>{"use strict";e.exports=require("net")},5673:e=>{"use strict";e.exports=require("node:events")},4492:e=>{"use strict";e.exports=require("node:stream")},7261:e=>{"use strict";e.exports=require("node:util")},1017:e=>{"use strict";e.exports=require("path")},4074:e=>{"use strict";e.exports=require("perf_hooks")},3477:e=>{"use strict";e.exports=require("querystring")},2781:e=>{"use strict";e.exports=require("stream")},5356:e=>{"use strict";e.exports=require("stream/web")},1576:e=>{"use strict";e.exports=require("string_decoder")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9830:e=>{"use strict";e.exports=require("util/types")},1267:e=>{"use strict";e.exports=require("worker_threads")},9796:e=>{"use strict";e.exports=require("zlib")},2569:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c});var r=s(482),a=s(9108),o=s(2563),l=s.n(o),n=s(8300),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);s.d(t,i);let c=["",{children:["organization",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9644)),"C:\\Users\\Sean Morrison\\Desktop\\Web Sci\\AbsolutelyNot\\frontend\\src\\app\\organization\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,1342)),"C:\\Users\\Sean Morrison\\Desktop\\Web Sci\\AbsolutelyNot\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\Sean Morrison\\Desktop\\Web Sci\\AbsolutelyNot\\frontend\\src\\app\\organization\\page.tsx"],u="/organization/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/organization/page",pathname:"/organization",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7651:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,6840,23)),Promise.resolve().then(s.t.bind(s,8771,23)),Promise.resolve().then(s.t.bind(s,3225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,3982,23))},6866:(e,t,s)=>{Promise.resolve().then(s.bind(s,7007))},5398:(e,t,s)=>{Promise.resolve().then(s.bind(s,6701))},7007:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(5344),a=s(8857),o=s(4762);function l({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:"bg-gradient-to-tr h-min min-h-screen from-ocean via-20% via-sky-700 to-ocean text-white",children:r.jsx(o.HD,{children:e})})})}s(6442),s(8892),a.vc.autoAddCss=!1},6701:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(5344),a=s(3729),o=s(340),l=s(372),n=s(6082),i=s(8428);function c(e){let t=(0,i.useRouter)(),s=(t,s,r,o,l)=>{console.log(t);let n=document.getElementById(t);if(!n)return;let i=document.getElementsByClassName("button");for(let e=0;e<i.length;e++)i[e].classList.remove("font-semibold");n.classList.add("font-semibold"),e?.overview(s),e?.goals(r),e?.transactions(o),e?.transactionHistory(l),a()},a=()=>{document.getElementById("slideover-container")?.classList.toggle("invisible"),document.getElementById("slideover-bg")?.classList.toggle("opacity-0"),document.getElementById("slideover-bg")?.classList.toggle("opacity-50"),document.getElementById("slideover")?.classList.toggle("translate-x-full")};return(0,r.jsxs)("div",{className:"float-right top-0 right-0",children:[r.jsx(n.G,{icon:l.xiG,onClick:a,className:"cursor-pointer ml-auto mr-4 my-4 text-3xl hover:text-ocean hover:bg-white p-2 rounded-lg"}),(0,r.jsxs)("div",{id:"slideover-container",className:"w-full h-full fixed inset-0 invisible",children:[r.jsx("div",{id:"slideover-bg",className:"w-full h-full duration-500 ease-out transition-all inset-0 absolute bg-gray-900 opacity-0"}),(0,r.jsxs)("div",{id:"slideover",className:"bg-white h-full absolute right-0 duration-300 ease-out transition-all translate-x-full p-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center text-black mb-4",children:[r.jsx("p",{className:"text-4xl font-extrabold mr-4 text-sky-500",children:"BB"}),r.jsx(n.G,{onClick:a,icon:l.EOp,className:"text-2xl ml-auto cursor-pointer hover:border-black border-2 border-transparent rounded p-1"})]}),(0,r.jsxs)("div",{className:"text-black h-full w-full flex flex-col items-between pr-2",children:[(0,r.jsxs)("div",{onClick:e=>{s("overview",!0,!1,!1,!1)},className:"flex items-center justify-start hover:text-sky-600 cursor-pointer",children:[r.jsx(n.G,{icon:l.Stf,className:"mr-2 text-2xl"}),r.jsx("button",{id:"overview",className:"button text-left text-xl mr-4 my-4 hover:text-sky-600",children:"Overview"})]}),(0,r.jsxs)("div",{onClick:e=>{s("goals",!1,!0,!1,!1)},className:"flex items-center justify-start hover:text-sky-600 cursor-pointer",children:[r.jsx(n.G,{icon:l.scR,className:"mr-2 text-2xl"}),r.jsx("button",{id:"goals",className:"button text-left text-xl mr-4 my-4",children:"Goals"})]}),(0,r.jsxs)("div",{onClick:e=>{s("transactions",!1,!1,!0,!1)},className:"flex items-center justify-start hover:text-sky-500 cursor-pointer",children:[r.jsx(n.G,{icon:l.bIM,className:"mr-2 text-2xl"}),r.jsx("button",{id:"transactions",className:"button text-left text-xl mr-4 my-4",children:"Log Transactions"})]}),(0,r.jsxs)("div",{onClick:e=>{s("transactionHistory",!1,!1,!1,!0)},className:"flex items-center justify-start hover:text-sky-500 cursor-pointer",children:[r.jsx(n.G,{icon:l.gMD,className:"mr-2 text-2xl"}),r.jsx("button",{id:"transactionHistory",className:"button text-left text-xl mr-4 my-4",children:"Transaction History"})]}),(0,r.jsxs)("div",{onClick:()=>t.push("/welcome"),className:"text-white font-semibold flex justify-center items-center border-2 bg-gray-500 rounded-md hover:bg-gray-700 mt-4 text-lg cursor-pointer outline-none py-1",children:[r.jsx(n.G,{icon:l.wK6,className:"mr-4"}),r.jsx("p",{children:"Go Back"})]})]})]})]})]})}function d({oid:e}){let[t,s]=(0,a.useState)(!1),[o,i]=(0,a.useState)(!1),[c,d]=(0,a.useState)(0),[u,m]=(0,a.useState)(""),[x,b]=(0,a.useState)(0),[p,h]=(0,a.useState)(""),[g,f]=(0,a.useState)(null),[j,y]=(0,a.useState)({isActive:!1,goalID:0}),N=e=>{console.log("Editing goal id: "+e),y(t=>({...t,isActive:!t.isActive,goalID:e}))},v=()=>{y({isActive:!j.isActive,goalID:0})},w=async t=>{await fetch("/org/"+e+"/goal?token=token",{method:"POST",headers:{"Content-Type":"Application/json"},body:JSON.stringify({name:u,total:x,dateDue:p})}),m(""),b(0),h(""),s(!1)},k=async t=>{t.preventDefault(),console.log("We're EDITING GOAL "),console.log(c),console.log(u),console.log(x),console.log(p),console.log("hi"),await fetch("/org/"+e+"/goal/"+c+"?token=token",{method:"PUT",headers:{"Content-Type":"Application/json"},body:JSON.stringify({name:u,total:x,dateDue:p,bid:c})}),console.log("hey"),console.log(e),m(""),b(0),h(""),v()},C=async()=>{let t=await fetch("/org/"+e+"/goal?token=token"),s=await t.json();console.log(s),f(s.data)};return(0,a.useEffect)(()=>{C()},[]),(0,r.jsxs)("div",{className:"rounded-2xl w-11/12 sm:w-5/6 m-auto mt-10 p-10 border",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("div",{className:"text-4xl font-bold",children:"Goals"}),(0,r.jsxs)("div",{onClick:()=>s(!0),className:"flex justify-between items-center rounded-md border-2 border-green-500 hover:bg-green-500 cursor-pointer px-2 py-1",children:[r.jsx(n.G,{icon:l.r8p,className:"text-2xl mr-4"}),r.jsx("p",{className:"font-semibold",children:" Create Goal"})]})]}),r.jsx("ul",{className:"border-t pt-3",children:g&&g.map((e,t)=>(0,r.jsxs)("li",{className:"grid grid-cols-3 pb-3",children:[r.jsx("p",{className:"font-semibold",children:e.name}),(0,r.jsxs)("p",{children:["$",e.amnt," / $",e.total]}),(0,r.jsxs)("div",{onClick:()=>{d(e.gid),N(e.gid)},className:"flex justify-center rounded-md border-2 border-yellow-500 hover:bg-yellow-500 cursor-pointer p-1",children:[r.jsx(n.G,{icon:l.Yai,className:"text-2xl mr-4"}),r.jsx("p",{className:"font-semibold",children:"Edit"})]})]},t))}),t&&r.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50 backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"outline bg-black/20 p-6 rounded-xl w-11/12 sm:w-3/5 md:w-1/2",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Create Goal"}),r.jsx(n.G,{icon:l.EOp,onClick:()=>s(!1),className:"text-2xl ml-auto cursor-pointer hover:border-white border-2 border-transparent rounded p-1"})]}),(0,r.jsxs)("form",{onSubmit:w,className:"flex flex-col ",children:[r.jsx("label",{htmlFor:"bname",className:"mb-2",children:"Goal Name:"}),r.jsx("input",{type:"text",id:"bname",name:"bname",value:u,onChange:e=>m(e.target.value),placeholder:"Goal Name",required:!0,className:"border rounded-md p-2 mb-4 text-black"}),r.jsx("label",{htmlFor:"amount",className:"mb-2",children:"Total Budget:"}),r.jsx("input",{type:"number",id:"amount",name:"amount",min:0,value:x,onChange:e=>b(Number(e.target.value)),placeholder:"Total Budget",className:"border rounded-md p-2 mb-4 text-black",required:!0}),r.jsx("label",{htmlFor:"date",className:"mb-2",children:"Due by:"}),r.jsx("input",{type:"date",id:"date",name:"date",min:0,value:p,onChange:e=>h(e.target.value),placeholder:"Due By",className:"border rounded-md p-2 mb-4 text-black"}),r.jsx("button",{type:"submit",className:"bg-green-500 text-white font-bold py-2 px-4 rounded hover:bg-green-700",children:"Create"})]})]})}),j.isActive&&r.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50 backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"outline bg-black/20 p-6 rounded-xl w-11/12 sm:w-3/5 md:w-1/2",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Edit Goal"}),r.jsx(n.G,{icon:l.EOp,onClick:v,className:"text-2xl ml-auto cursor-pointer hover:border-white border-2 border-transparent rounded p-1"})]}),(0,r.jsxs)("form",{onSubmit:k,className:"flex flex-col ",children:[r.jsx("label",{className:"mb-2",children:"Goal Name:"}),r.jsx("input",{className:"border rounded-md p-2 mb-4 text-black",type:"text",id:"bname",name:"bname",value:u,onChange:e=>m(e.target.value),placeholder:"Goal Name"}),r.jsx("label",{className:"mb-2",children:"Total Budget:"}),r.jsx("input",{type:"number",id:"amount",name:"amount",min:0,value:x,onChange:e=>b(Number(e.target.value)),placeholder:"Total Budget",className:"border rounded-md p-2 mb-4 text-black"}),r.jsx("label",{className:"mb-2",children:"Due by:"}),r.jsx("input",{type:"date",id:"date",name:"date",min:0,value:p,onChange:e=>h(e.target.value),placeholder:"Due By",className:"border rounded-md p-2 mb-4 text-black"}),r.jsx("button",{type:"submit",className:"bg-yellow-400 text-white font-bold py-2 px-4 rounded hover:bg-yellow-500",children:"Update"})]})]})})]})}var u=s(4762);function m({oid:e}){let t=(0,u.Eu)(),[s,o]=(0,a.useState)(!1),[i,c]=(0,a.useState)(!1),[d,m]=(0,a.useState)("Total"),[x,b]=(0,a.useState)([]),[p,h]=(0,a.useState)(null),[g,f]=(0,a.useState)(null),[j,y]=(0,a.useState)(0),[N,v]=(0,a.useState)(0),[w,k]=(0,a.useState)(null),[C,S]=(0,a.useState)(null),[q,E]=(0,a.useState)(null),[P,G]=(0,a.useState)(""),[T,B]=(0,a.useState)(0),[$,D]=(0,a.useState)(""),[I,A]=(0,a.useState)(!1),_=async()=>{let s=await fetch(`http://localhost:3000/org/${e}/budget/?token=${t.user.accessToken}`),r=await s.json();b(await Promise.all(r.data.map(async s=>{let r=await fetch(`http://localhost:3000/org/${e}/budget/${s.bid}?token=${t.user.accessToken}`);return(await r.json()).data})))},O=async e=>{let t={bid:-1,name:"",amnt:0,total:0,duration:"",continuous:!1};for(let s=0;s<x.length;s++)if(x[s].name==e.target.value){t=x[s];break}h(t.bid),f(t.name),y(t.amnt),v(t.total),k(t.duration),S(t.continuous)},L=async s=>{s.preventDefault(),console.log("Inedit"),c(!1),console.log("We got a submission"),console.log("Inside Edit budget");let r=await fetch(`http://localhost:3000/org/${e}/budget/${p}?token=${t.user.accessToken}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:P,amnt:T,duration:$,continuous:I})});console.log(await r.json()),c(!1),G(""),B(0),D(""),A(!1),_();let a=await fetch(`http://localhost:3000/org/${e}/budget/${p}?token=${t.user.accessToken}`),o=await a.json();f(o.name),y(o.amnt),v(o.total),k(o.duration),S(o.continuous)},M=async t=>{t.preventDefault(),console.log("We got a submission"),console.log("Inside budget"),console.log(P),console.log(T),console.log($),console.log(I),console.log("ORG ID "+e);let s=await fetch("http://localhost:3000/org/"+e+"/budget?token=token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:P,total:T,duration:$,continuous:I})});o(!1),G(""),B(0),D(""),A(!1),await _();let r=await s.json();f(r.data.name),y(r.data.amnt),v(r.data.total),k(r.data.duration),S(r.data.continuous);let a=document.getElementById("bDropdown");a.selectedIndex=a.length-1};return(0,a.useEffect)(()=>{(async()=>{let s=await fetch(`http://localhost:3000/org/${e}/budget/?token=${t.user.accessToken}`),r=await s.json(),a=await Promise.all(r.data.map(async s=>{let r=await fetch(`http://localhost:3000/org/${e}/budget/${s.bid}?token=${t.user.accessToken}`);return(await r.json()).data}));b(a),h(a[0].bid),f(a[0].name),y(a[0].amnt),v(a[0].total),k(a[0].duration),S(a[0].continuous)})()},[t.user.uid]),(0,r.jsxs)("div",{className:"rounded-2xl w-11/12 sm:w-5/6 m-auto mt-10 border",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between mx-10 items-center",children:[(0,r.jsxs)("div",{className:"flex flex-wrap md:flex-nowrap gap-3 items-center",children:[r.jsx("div",{className:"flex text-center sm:text-left text-4xl font-bold my-5",children:"Budgets"}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("select",{onChange:O,className:"flex rounded-lg w-2/5 sm:w-auto bg-white border-2 border-white text-slate-500 cursor-pointer ",id:"bDropdown",children:x.map((e,t)=>r.jsx("option",{children:e.name},t))}),r.jsx("p",{onClick:()=>o(!0),className:"block w-2/5 sm:hidden sm:w-auto text-center rounded-lg border-2 border-green-500 p-2 hover:bg-green-500 cursor-pointer ",children:"Create Budget"})]})]}),r.jsx("p",{onClick:()=>o(!0),className:"hidden sm:block rounded-lg border-2 border-green-500 p-2 hover:bg-green-500 cursor-pointer ",children:"Create Budget"})]}),r.jsx("div",{className:"m-10 mt-2 border-t pt-3 flex flex-col justify-between",children:(0,r.jsxs)("div",{className:"flex justify-between pb-2 pt-2",children:[g&&(0,r.jsxs)("p",{className:"pl-2 font-semibold",children:[g," - "]}),(0,r.jsxs)("p",{className:"",children:[j?(0,r.jsxs)(r.Fragment,{children:[" $",j]}):(0,r.jsxs)(r.Fragment,{children:[" $",0,"\xa0"]}),"/",N?(0,r.jsxs)(r.Fragment,{children:[" $",N]}):(0,r.jsxs)(r.Fragment,{children:[" $",0]})]}),w&&(0,r.jsxs)("p",{className:"pl-2",children:["Duration: ",w]})]})}),s&&r.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50 backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"outline bg-black/20 p-6 rounded-xl w-11/12 sm:w-3/5 md:w-1/2",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"New Budget"}),r.jsx(n.G,{icon:l.EOp,className:"text-2xl ml-auto cursor-pointer hover:border-white border-2 border-transparent rounded p-1",onClick:()=>{o(!1),G(""),B(0),D(""),A(!1)}})]}),(0,r.jsxs)("form",{onSubmit:M,className:"flex flex-col ",children:[r.jsx("label",{className:"mb-2",children:"Budget name:"}),r.jsx("input",{className:"border rounded-md p-2 mb-4 text-black",type:"text",id:"bname",name:"bname",value:P,onChange:e=>G(e.target.value),placeholder:"Budget Name"}),r.jsx("label",{className:"mb-2",children:"Total Budget:"}),r.jsx("input",{className:"border rounded-md p-2 mb-4 text-black",type:"number",id:"btotal",name:"btotal",value:T,onChange:e=>B(Number(e.target.value)),placeholder:"Total Budget"}),r.jsx("label",{className:"mb-2",children:"Go Until:"}),r.jsx("input",{type:"date",id:"date",name:"date",min:0,value:$,onChange:e=>D(e.target.value),placeholder:"Due By",className:"border rounded-md p-2 mb-4 text-black"}),(0,r.jsxs)("div",{className:"flex gap-2 items-center mb-2",children:[r.jsx("label",{className:"flex m-0 items-center align-middle",children:"Continuous"}),r.jsx("input",{className:"border rounded-md p-2 text-black ",type:"checkbox",id:"bcontinuous",name:"bcontinuous",onChange:e=>A(!I),placeholder:"Total Budget"})]}),r.jsx("button",{className:"bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700",type:"submit",style:{backgroundColor:"#3b82f6"},onClick:()=>{},children:"Create"})]})]})}),i&&r.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50 backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"outline bg-black/20 p-6 rounded-xl w-11/12 sm:w-3/5 md:w-1/2",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Edit Budget"}),r.jsx("button",{onClick:()=>{c(!1),G(""),B(0),D(""),A(!1)},className:"text-gray-500 hover:text-gray-700",children:"Close"})]}),(0,r.jsxs)("form",{onSubmit:L,className:"flex flex-col ",children:[r.jsx("label",{className:"mb-2",children:"Budget name:"}),r.jsx("input",{className:"border rounded-md p-2 mb-4 text-black",type:"text",id:"bename",name:"bename",value:P,onChange:e=>G(e.target.value),placeholder:"Organization Name"}),r.jsx("label",{className:"mb-2",children:"Total Budget:"}),r.jsx("input",{className:"border rounded-md p-2 mb-4 text-black",type:"number",id:"betotal",name:"betotal",value:T,onChange:e=>B(Number(e.target.value)),placeholder:"Total Budget"}),r.jsx("label",{className:"mb-2",children:"Go Until:"}),r.jsx("input",{type:"date",id:"date",name:"date",min:0,value:$,onChange:e=>D(e.target.value),placeholder:"Due By",className:"border rounded-md p-2 mb-4 text-black"}),(0,r.jsxs)("div",{className:"flex gap-2 items-center mb-2",children:[r.jsx("label",{className:"flex m-0 items-center align-middle",children:"Continuous"}),r.jsx("input",{className:"border rounded-md p-2 text-black ",type:"checkbox",id:"becontinuous",name:"becontinuous",onChange:e=>A(!I),placeholder:"Total Budget"})]}),r.jsx("button",{className:"bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700",type:"submit",style:{backgroundColor:"#3b82f6"},onClick:()=>{},children:"Edit"})]})]})})]})}function x({oid:e}){let[t,s]=(0,a.useState)(0),[o,i]=(0,a.useState)([{bid:-1,name:"Name",price:0,quantity:1}]),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)([]);(0,a.useEffect)(()=>{x()},[o]),(0,a.useEffect)(()=>{(async()=>{try{let t=await fetch("http://localhost:3000/org/"+e+"/budget?token=atoken");if(!t.ok)throw Error("Network response was not ok");let s=await t.json();d(s.data),m(c.map(e=>({value:e.bid,label:e.name})))}catch(e){console.error("Error fetching data:",e)}})()},[c]);let x=()=>{let e=0;o.forEach(t=>{e+=t.price*t.quantity}),s(e)},b=(e,t,s)=>{let r=[...o];if("bid"==t){let a=-1;for(let e=0;e<c.length;e++)c[e].name==s&&(a=c[e].bid);r[e]={...r[e],[t]:a}}else r[e]={...r[e],[t]:s};x(),i(r)};async function p(){console.log("entries size: "+o.length);for(let t=0;t<o.length;t++)try{await fetch("http://localhost:3000/org/"+e+"/transaction?token=atoken",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item:o[t].name,qty:o[t].quantity,unitprice:o[t].price,bid:o[t].bid})})}catch(e){console.log(e)}i([{bid:-1,name:"",price:0,quantity:1}])}return(0,r.jsxs)("div",{className:"flex flex-col m-auto mt-10 rounded-2xl w-11/12 sm:w-5/6 border p-5",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("p",{className:"text-4xl font-bold",children:"Transaction List"}),(0,r.jsxs)("p",{className:"text-2xl",children:["Total: $",r.jsx("strong",{children:isNaN(t)?0:t})]})]}),r.jsx("hr",{}),(0,r.jsxs)("table",{id:"entryCollection",className:"my-3 border-collapse",children:[(0,r.jsxs)("tr",{className:"italic sm:border-l",children:[r.jsx("th",{className:"text-start border p-1",children:"Select"}),r.jsx("th",{className:"text-start border p-1",children:"Item"}),r.jsx("th",{className:"text-start border p-1",children:"Unit Price"}),r.jsx("th",{className:"text-start border p-1",children:"Quantity"}),r.jsx("th",{className:"text-start border p-1",children:"Delete"})]}),o.map((e,t)=>(0,r.jsxs)("tr",{className:"gap-1 items-center ",children:[r.jsx("td",{className:"border p-1",children:r.jsx("select",{onChange:e=>e?b(t,"bid",e.target.value):console.log("Couldn't assign bid"),className:"border-none text-black",children:u.map((e,t)=>0!=t?r.jsx("option",{children:e.label},t):r.jsx("option",{disabled:!0,selected:!0,children:"select an option"},t))})}),r.jsx("td",{className:"border p-1",children:r.jsx("input",{type:"text",value:e.name,placeholder:"Name of item",className:"text-white bg-transparent w-full border-2 border-transparent focus:border-white focus:border-2 focus:ring-0 focus:outline-none",onChange:e=>b(t,"name",e.target.value)})}),r.jsx("td",{className:"border p-1",children:r.jsx("input",{type:"number",value:e.price,min:0,placeholder:"Unit price",className:"bg-transparent w-full border-2 border-transparent focus:border-white focus:border-2 focus:ring-0 focus:outline-none",onChange:e=>b(t,"price",parseFloat(e.target.value))})}),r.jsx("td",{className:"border p-1",children:r.jsx("input",{type:"number",value:e.quantity,min:1,placeholder:"Quantity",className:"bg-transparent w-full border-2 border-transparent focus:border-white focus:border-2 focus:ring-0 focus:outline-none",onChange:e=>b(t,"quantity",parseInt(e.target.value))})}),r.jsx("td",{className:"border p-1 text-center",children:r.jsx(n.G,{onClick:()=>(function(e){let t=[...o];t.splice(e,1),i(t)})(t),icon:l.$aW,className:"text-2xl hover:text-red-600 cursor-pointer text-white text-center mx-auto p-auto"})})]},t))]}),(0,r.jsxs)("div",{onClick:()=>void i([...o,{bid:-1,name:"",price:0,quantity:1}]),className:"flex justify-center items-center w-full border-green-600 border-2 hover:bg-green-600 rounded-lg text-center cursor-pointer font-semibold py-1 my-3",children:[r.jsx(n.G,{icon:l.r8p,className:" rounded-lg mr-2"}),r.jsx("p",{children:"Add Item"})]}),r.jsx("p",{onClick:()=>p(),className:"w-full border-blue-500 border-2 hover:bg-blue-500 rounded-lg text-center cursor-pointer font-semibold py-1 my-3",children:"Submit Transactions"})]})}function b({oid:e}){let[t,s]=(0,a.useState)(null),[o,l]=(0,a.useState)([]),[n,i]=(0,a.useState)(o),[c,d]=(0,a.useState)("");return(0,a.useEffect)(()=>{(async()=>{try{let t=await fetch("http://localhost:3000/org/"+e+"?token=atoken");if(!t.ok)throw Error("Network response was not ok");let r=await t.json();s(r.data.orgname)}catch(e){console.error("Error fetching data:",e)}})()},[e]),(0,a.useEffect)(()=>{(async()=>{try{let t=await fetch("http://localhost:3000/org/"+e+"/transaction?token=atoken");if(!t.ok)throw Error("Network response was not ok");let s=await t.json();l(s.data),i(s.data)}catch(e){console.error("Error fetching data:",e)}})()},[e]),(0,r.jsxs)("div",{className:"flex flex-col m-auto mt-10 rounded-2xl w-5/6 border p-5",children:[r.jsx("div",{className:"flex justify-between",children:(0,r.jsxs)("p",{className:"text-2xl sm:text-4xl font-bold",children:["Transaction History ",t&&" - "+t," "]})}),r.jsx("hr",{}),(0,r.jsxs)("div",{className:"flex items-center my-4",children:[r.jsx("h1",{children:"Search Transactions: "}),r.jsx("input",{type:"text",className:"bg-white text-black w-full border rounded-2xl",value:c,onChange:e=>{let t=e.target.value.toLowerCase();d(t);let s=o.filter(e=>e.item.toLowerCase().includes(t)||e.unitprice.toString().toLowerCase().includes(t)||e.qty.toString().toLowerCase().includes(t));0==s.length&&(s=o),i(s)}})]}),r.jsx("hr",{}),n.map((e,t)=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:" p-5 grid grid-cols-4 gap-4",children:[r.jsx("h1",{className:"font-bold",children:e.item}),(0,r.jsxs)("p",{children:["Unit Price: $",e.unitprice]}),(0,r.jsxs)("p",{children:["Quantity Bought: ",e.qty]}),(0,r.jsxs)("p",{className:"text-red-500",children:["Total: $",e.unitprice*e.qty]})]},t),r.jsx("hr",{})]}))]})}function p(){let{user:e}=(0,u.Eu)(),t=(0,i.useRouter)();(0,a.useEffect)(()=>{e||t.push("/")},[t,e]);let[s,l]=(0,a.useState)(!0),[n,p]=(0,a.useState)(!1),[h,g]=(0,a.useState)(!1),[f,j]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{document.documentElement.style.fontSize=`${localStorage.getItem("fontRatio")}px`},[]),(0,r.jsxs)(r.Fragment,{children:[r.jsx(o.Z,{showProfile:!0}),(0,r.jsxs)("div",{className:"w-full",children:[r.jsx(c,{overview:l,goals:p,transactions:g,transactionHistory:j}),(0,r.jsxs)("div",{className:"flex flex-wrap justify-evenly w-full h-screen",children:[s&&r.jsx(m,{oid:Number(window.location.pathname.split("/")[2])}),n&&r.jsx(d,{oid:Number(window.location.pathname.split("/")[2])}),h&&r.jsx(x,{oid:Number(window.location.pathname.split("/")[2])}),f&&r.jsx(b,{oid:Number(window.location.pathname.split("/")[2])})]})]})]})}},340:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var r=s(5344),a=s(3729),o=s(6506),l=s(2898),n=s(8428),i=s(6082),c=s(372),d=s(4762);let u={showProfile:!1,isProfilePage:!1};function m(e={...u}){let[t,s]=(0,a.useState)(!1),[m,x]=(0,a.useState)([]),{user:b}=(0,d.Eu)(),p=(0,n.useRouter)(),h=async()=>{console.log("hellooo i am coming to log out now");let{result:e,error:t}=await (0,l.Z)();console.log("response: ",e),console.log("error: ",t),p.push("/")};return(0,r.jsxs)("nav",{className:"flex border-b-4 border-b-white py-2 items-center",children:[r.jsx(o.default,{href:"../welcome",className:"items-center flex flex-1 ml-4",children:r.jsx("p",{className:"text-4xl font-extrabold",children:"Budget Buddy"})}),e.showProfile&&!e.isProfilePage&&(0,r.jsxs)("div",{className:"flex items-center justify-end flex-1",children:[r.jsx(i.G,{icon:c.wK3,onClick:()=>{s(!0)},className:"mr-4 text-2xl cursor-pointer rounded-lg hover:bg-white hover:text-black p-1"}),(0,r.jsxs)(o.default,{href:"../profile",className:"text-white font-medium rounded-2xl px-3 mr-4 float-right border-white border-2 hover:cursor-pointer hover:bg-white hover:text-sky-900 ",children:[r.jsx(i.G,{icon:c.ILF,className:"sm:hidden"}),r.jsx("p",{className:"hidden sm:block",children:"Profile"})]})]}),e.isProfilePage&&(0,r.jsxs)("button",{onClick:h,className:"text-white font-medium rounded-2xl px-3 mr-4 float-right border-white border-2 hover:cursor-pointer hover:bg-white hover:text-sky-900 ",children:[r.jsx(i.G,{icon:c.HEx,className:"sm:hidden"}),r.jsx("p",{className:"hidden sm:block",children:"Logout?"})]}),t&&r.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50 backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"outline bg-black/20 p-6 rounded-xl w-11/12 sm:w-3/5 md:w-1/2",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-3xl font-bold",children:"Messages"}),r.jsx(i.G,{icon:c.EOp,onClick:()=>s(!1),className:"text-xl ml-auto cursor-pointer hover:border-white border-2 border-transparent rounded px-1"})]}),r.jsx("hr",{className:"mb-4"}),m.map((e,t)=>(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("p",{className:"text-2xl font-semibold",children:e.title}),r.jsx("p",{className:"italic",children:new Date(e.time).toLocaleString()})]}),r.jsx("p",{className:"py-1 px-2 border rounded-md bg-black/70 mb-2",children:e.text}),e.link&&(0,r.jsxs)("div",{className:"flex w-full justify-between gap-2",children:[(0,r.jsxs)("div",{className:"flex gap-2 items-center w-1/2 bg-green-500 font-bold py-2 px-4 rounded hover:bg-green-700 cursor-pointer",children:[r.jsx(i.G,{icon:c.LEp,className:"text-2xl scale-y-1 cursor-pointer"}),r.jsx("p",{children:"Accept"})]}),(0,r.jsxs)("div",{className:"flex gap-2 items-center w-1/2 bg-red-600  font-bold py-2 px-4 rounded hover:bg-red-800 cursor-pointer",children:[r.jsx(i.G,{icon:c.EOp,className:"text-2xl scale-y-1 cursor-pointer"}),r.jsx("p",{children:"Reject"})]})]})]},t))]})})]})}},4762:(e,t,s)=>{"use strict";s.d(t,{Eu:()=>d,HD:()=>u});var r=s(5344),a=s(3729),o=s.n(a),l=s(6177),n=s(2969);let i=(0,l.v0)(n.Z),c=o().createContext({}),d=()=>o().useContext(c),u=({children:e})=>{let[t,s]=o().useState(null),[a,n]=o().useState(!0);return o().useEffect(()=>{let e=(0,l.Aj)(i,e=>{e?s(e):s(null),n(!1)});return()=>e()},[]),r.jsx(c.Provider,{value:{user:t},children:a?r.jsx("div",{children:"Loading..."}):e})}},2898:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var r=s(2969),a=s(6177);let o=(0,a.v0)(r.Z);async function l(){let e=null;return(0,a.w7)(o).then(()=>{e="yippe"}).catch(t=>{e="error happened."}),{result:e,error:null}}},2969:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(6041);let a=0===(0,r.C6)().length?(0,r.ZF)({apiKey:"AIzaSyC-Sn8RuFy4Tpq8T43s-0EwH6wmbAsuNIc",authDomain:"josh-b240a.firebaseapp.com",projectId:"josh-b240a",storageBucket:"josh-b240a.appspot.com",messagingSenderId:"1030936495421",appId:"1:1030936495421:web:734c0da55458cbfb463154"}):(0,r.C6)()[0]},1342:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>o,__esModule:()=>a,default:()=>l});let r=(0,s(6843).createProxy)(String.raw`C:\Users\Sean Morrison\Desktop\Web Sci\AbsolutelyNot\frontend\src\app\layout.tsx`),{__esModule:a,$$typeof:o}=r,l=r.default},9644:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>o,__esModule:()=>a,default:()=>l});let r=(0,s(6843).createProxy)(String.raw`C:\Users\Sean Morrison\Desktop\Web Sci\AbsolutelyNot\frontend\src\app\organization\page.tsx`),{__esModule:a,$$typeof:o}=r,l=r.default},3881:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(337);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},8892:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,810,230,474],()=>s(2569));module.exports=r})();