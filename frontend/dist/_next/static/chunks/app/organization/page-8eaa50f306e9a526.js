(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{9089:function(e,t,s){Promise.resolve().then(s.bind(s,6684))},4907:function(e,t,s){"use strict";s.d(t,{G:function(){return g}});var a=s(4518),n=s(4404),r=s.n(n),o=s(4090);function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(Object(s),!0).forEach(function(t){d(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function u(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if("Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return m(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,a=Array(t);s<t;s++)a[s]=e[s];return a}function b(e){var t;return(t=e-0)==t?e:(e=e.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""})).substr(0,1).toLowerCase()+e.substr(1)}var x=["style"],p=!1;try{p=!0}catch(e){}function f(e){return e&&"object"===c(e)&&e.prefix&&e.iconName&&e.icon?e:a.Qc.icon?a.Qc.icon(e):null===e?null:e&&"object"===c(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"==typeof e?{prefix:"fas",iconName:e}:void 0}function h(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?d({},e,t):{}}var g=o.forwardRef(function(e,t){var s,n,r,o,l,c,m,b,x,j,v,N,w,k,C,S,O,E,T,I=e.icon,P=e.mask,B=e.symbol,G=e.className,A=e.title,D=e.titleId,L=e.maskId,R=f(I),F=h("classes",[].concat(u((n=e.beat,r=e.fade,o=e.beatFade,l=e.bounce,c=e.shake,m=e.flash,b=e.spin,x=e.spinPulse,j=e.spinReverse,v=e.pulse,N=e.fixedWidth,w=e.inverse,k=e.border,C=e.listItem,S=e.flip,O=e.size,E=e.rotation,T=e.pull,Object.keys((d(s={"fa-beat":n,"fa-fade":r,"fa-beat-fade":o,"fa-bounce":l,"fa-shake":c,"fa-flash":m,"fa-spin":b,"fa-spin-reverse":j,"fa-spin-pulse":x,"fa-pulse":v,"fa-fw":N,"fa-inverse":w,"fa-border":k,"fa-li":C,"fa-flip":!0===S,"fa-flip-horizontal":"horizontal"===S||"both"===S,"fa-flip-vertical":"vertical"===S||"both"===S},"fa-".concat(O),null!=O),d(s,"fa-rotate-".concat(E),null!=E&&0!==E),d(s,"fa-pull-".concat(T),null!=T),d(s,"fa-swap-opacity",e.swapOpacity),s)).map(function(e){return s[e]?e:null}).filter(function(e){return e}))),u(G.split(" ")))),q=h("transform","string"==typeof e.transform?a.Qc.transform(e.transform):e.transform),_=h("mask",f(P)),U=(0,a.qv)(R,i(i(i(i({},F),q),_),{},{symbol:B,title:A,titleId:D,maskId:L}));if(!U)return!function(){if(!p&&console&&"function"==typeof console.error){var e;(e=console).error.apply(e,arguments)}}("Could not find icon",R),null;var W=U.abstract,$={ref:t};return Object.keys(e).forEach(function(t){g.defaultProps.hasOwnProperty(t)||($[t]=e[t])}),y(W[0],$)});g.displayName="FontAwesomeIcon",g.propTypes={beat:r().bool,border:r().bool,beatFade:r().bool,bounce:r().bool,className:r().string,fade:r().bool,flash:r().bool,mask:r().oneOfType([r().object,r().array,r().string]),maskId:r().string,fixedWidth:r().bool,inverse:r().bool,flip:r().oneOf([!0,!1,"horizontal","vertical","both"]),icon:r().oneOfType([r().object,r().array,r().string]),listItem:r().bool,pull:r().oneOf(["right","left"]),pulse:r().bool,rotation:r().oneOf([0,90,180,270]),shake:r().bool,size:r().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:r().bool,spinPulse:r().bool,spinReverse:r().bool,symbol:r().oneOfType([r().bool,r().string]),title:r().string,titleId:r().string,transform:r().oneOfType([r().string,r().object]),swapOpacity:r().bool},g.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var y=(function e(t,s){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof s)return s;var n=(s.children||[]).map(function(s){return e(t,s)}),r=Object.keys(s.attributes||{}).reduce(function(e,t){var a=s.attributes[t];switch(t){case"class":e.attrs.className=a,delete s.attributes.class;break;case"style":e.attrs.style=a.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var s=t.indexOf(":"),a=b(t.slice(0,s)),n=t.slice(s+1).trim();return a.startsWith("webkit")?e[a.charAt(0).toUpperCase()+a.slice(1)]=n:e[a]=n,e},{});break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=a:e.attrs[b(t)]=a}return e},{attrs:{}}),o=a.style,l=function(e,t){if(null==e)return{};var s,a,n=function(e,t){if(null==e)return{};var s,a,n={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(n[s]=e[s]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}(a,x);return r.attrs.style=i(i({},r.attrs.style),void 0===o?{}:o),t.apply(void 0,[s.tag,i(i({},r.attrs),l)].concat(u(n)))}).bind(null,o.createElement)},8792:function(e,t,s){"use strict";s.d(t,{default:function(){return n.a}});var a=s(5250),n=s.n(a)},7907:function(e,t,s){"use strict";var a=s(5313);s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},8314:function(e,t,s){"use strict";var a=s(1811);function n(){}function r(){}r.resetWarningCache=n,e.exports=function(){function e(e,t,s,n,r,o){if(o!==a){var l=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:n};return s.PropTypes=s,s}},4404:function(e,t,s){"use strict";e.exports=s(8314)()},1811:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6684:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var a=s(3827),n=s(4090),r=s(5994),o=s(7535),l=s(4907),i=s(7907);function c(e){let t=(0,i.useRouter)(),s=(t,s,a,r,o)=>{console.log(t);let l=document.getElementById(t);if(!l)return;let i=document.getElementsByClassName("button");for(let e=0;e<i.length;e++)i[e].classList.remove("font-semibold");l.classList.add("font-semibold"),null==e||e.overview(s),null==e||e.goals(a),null==e||e.transactions(r),null==e||e.transactionHistory(o),n()},n=()=>{var e,t,s,a;null===(e=document.getElementById("slideover-container"))||void 0===e||e.classList.toggle("invisible"),null===(t=document.getElementById("slideover-bg"))||void 0===t||t.classList.toggle("opacity-0"),null===(s=document.getElementById("slideover-bg"))||void 0===s||s.classList.toggle("opacity-50"),null===(a=document.getElementById("slideover"))||void 0===a||a.classList.toggle("translate-x-full")};return(0,a.jsxs)("div",{className:"float-right top-0 right-0",children:[(0,a.jsx)(l.G,{icon:o.xiG,onClick:n,className:"cursor-pointer ml-auto mr-4 my-4 text-3xl hover:text-ocean hover:bg-white p-2 rounded-lg"}),(0,a.jsxs)("div",{id:"slideover-container",className:"w-full h-full fixed inset-0 invisible",children:[(0,a.jsx)("div",{id:"slideover-bg",className:"w-full h-full duration-500 ease-out transition-all inset-0 absolute bg-gray-900 opacity-0"}),(0,a.jsxs)("div",{id:"slideover",className:"bg-white h-full absolute right-0 duration-300 ease-out transition-all translate-x-full p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center text-black mb-4",children:[(0,a.jsx)("p",{className:"text-4xl font-extrabold mr-4 text-sky-500",children:"BB"}),(0,a.jsx)(l.G,{onClick:n,icon:o.EOp,className:"text-2xl ml-auto cursor-pointer hover:border-black border-2 border-transparent rounded p-1"})]}),(0,a.jsxs)("div",{className:"text-black h-full w-full flex flex-col items-between pr-2",children:[(0,a.jsxs)("div",{onClick:e=>{s("overview",!0,!1,!1,!1)},className:"flex items-center justify-start hover:text-sky-600 cursor-pointer",children:[(0,a.jsx)(l.G,{icon:o.Stf,className:"mr-2 text-2xl"}),(0,a.jsx)("button",{id:"overview",className:"button text-left text-xl mr-4 my-4 hover:text-sky-600",children:"Overview"})]}),(0,a.jsxs)("div",{onClick:e=>{s("goals",!1,!0,!1,!1)},className:"flex items-center justify-start hover:text-sky-600 cursor-pointer",children:[(0,a.jsx)(l.G,{icon:o.scR,className:"mr-2 text-2xl"}),(0,a.jsx)("button",{id:"goals",className:"button text-left text-xl mr-4 my-4",children:"Goals"})]}),(0,a.jsxs)("div",{onClick:e=>{s("transactions",!1,!1,!0,!1)},className:"flex items-center justify-start hover:text-sky-500 cursor-pointer",children:[(0,a.jsx)(l.G,{icon:o.bIM,className:"mr-2 text-2xl"}),(0,a.jsx)("button",{id:"transactions",className:"button text-left text-xl mr-4 my-4",children:"Log Transactions"})]}),(0,a.jsxs)("div",{onClick:e=>{s("transactionHistory",!1,!1,!1,!0)},className:"flex items-center justify-start hover:text-sky-500 cursor-pointer",children:[(0,a.jsx)(l.G,{icon:o.gMD,className:"mr-2 text-2xl"}),(0,a.jsx)("button",{id:"transactionHistory",className:"button text-left text-xl mr-4 my-4",children:"Transaction History"})]}),(0,a.jsxs)("div",{onClick:()=>t.push("/welcome"),className:"text-white font-semibold flex justify-center items-center border-2 bg-gray-500 rounded-md hover:bg-gray-700 mt-4 text-lg cursor-pointer outline-none py-1",children:[(0,a.jsx)(l.G,{icon:o.wK6,className:"mr-4"}),(0,a.jsx)("p",{children:"Go Back"})]})]})]})]})]})}function d(e){let{oid:t}=e,[s,r]=(0,n.useState)(!1),[i,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(0),[m,b]=(0,n.useState)(""),[x,p]=(0,n.useState)(0),[f,h]=(0,n.useState)(""),[g,y]=(0,n.useState)(null),[j,v]=(0,n.useState)({isActive:!1,goalID:0}),N=e=>{console.log("Editing goal id: "+e),v(t=>({...t,isActive:!t.isActive,goalID:e}))},w=()=>{v({isActive:!j.isActive,goalID:0})},k=async e=>{await fetch("/org/"+t+"/goal?token=token",{method:"POST",headers:{"Content-Type":"Application/json"},body:JSON.stringify({name:m,total:x,dateDue:f})}),b(""),p(0),h(""),r(!1)},C=async e=>{e.preventDefault(),console.log("We're EDITING GOAL "),console.log(d),console.log(m),console.log(x),console.log(f),console.log("hi"),await fetch("/org/"+t+"/goal/"+d+"?token=token",{method:"PUT",headers:{"Content-Type":"Application/json"},body:JSON.stringify({name:m,total:x,dateDue:f,bid:d})}),console.log("hey"),console.log(t),b(""),p(0),h(""),w()},S=async()=>{let e=await fetch("/org/"+t+"/goal?token=token"),s=await e.json();console.log(s),y(s.data)};return(0,n.useEffect)(()=>{S()},[]),(0,a.jsxs)("div",{className:"rounded-2xl w-11/12 sm:w-5/6 m-auto mt-10 p-10 border",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("div",{className:"text-4xl font-bold",children:"Goals"}),(0,a.jsxs)("div",{onClick:()=>r(!0),className:"flex justify-between items-center rounded-md border-2 border-green-500 hover:bg-green-500 cursor-pointer px-2 py-1",children:[(0,a.jsx)(l.G,{icon:o.r8p,className:"text-2xl mr-4"}),(0,a.jsx)("p",{className:"font-semibold",children:" Create Goal"})]})]}),(0,a.jsx)("ul",{className:"border-t pt-3",children:g&&g.map((e,t)=>(0,a.jsxs)("li",{className:"grid grid-cols-3 pb-3",children:[(0,a.jsx)("p",{className:"font-semibold",children:e.name}),(0,a.jsxs)("p",{children:["$",e.amnt," / $",e.total]}),(0,a.jsxs)("div",{onClick:()=>{u(e.gid),N(e.gid)},className:"flex justify-center rounded-md border-2 border-yellow-500 hover:bg-yellow-500 cursor-pointer p-1",children:[(0,a.jsx)(l.G,{icon:o.Yai,className:"text-2xl mr-4"}),(0,a.jsx)("p",{className:"font-semibold",children:"Edit"})]})]},t))}),s&&(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50 backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"outline bg-black/20 p-6 rounded-xl w-11/12 sm:w-3/5 md:w-1/2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Create Goal"}),(0,a.jsx)(l.G,{icon:o.EOp,onClick:()=>r(!1),className:"text-2xl ml-auto cursor-pointer hover:border-white border-2 border-transparent rounded p-1"})]}),(0,a.jsxs)("form",{onSubmit:k,className:"flex flex-col ",children:[(0,a.jsx)("label",{htmlFor:"bname",className:"mb-2",children:"Goal Name:"}),(0,a.jsx)("input",{type:"text",id:"bname",name:"bname",value:m,onChange:e=>b(e.target.value),placeholder:"Goal Name",required:!0,className:"border rounded-md p-2 mb-4 text-black"}),(0,a.jsx)("label",{htmlFor:"amount",className:"mb-2",children:"Total Budget:"}),(0,a.jsx)("input",{type:"number",id:"amount",name:"amount",min:0,value:x,onChange:e=>p(Number(e.target.value)),placeholder:"Total Budget",className:"border rounded-md p-2 mb-4 text-black",required:!0}),(0,a.jsx)("label",{htmlFor:"date",className:"mb-2",children:"Due by:"}),(0,a.jsx)("input",{type:"date",id:"date",name:"date",min:0,value:f,onChange:e=>h(e.target.value),placeholder:"Due By",className:"border rounded-md p-2 mb-4 text-black"}),(0,a.jsx)("button",{type:"submit",className:"bg-green-500 text-white font-bold py-2 px-4 rounded hover:bg-green-700",children:"Create"})]})]})}),j.isActive&&(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50 backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"outline bg-black/20 p-6 rounded-xl w-11/12 sm:w-3/5 md:w-1/2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Edit Goal"}),(0,a.jsx)(l.G,{icon:o.EOp,onClick:w,className:"text-2xl ml-auto cursor-pointer hover:border-white border-2 border-transparent rounded p-1"})]}),(0,a.jsxs)("form",{onSubmit:C,className:"flex flex-col ",children:[(0,a.jsx)("label",{className:"mb-2",children:"Goal Name:"}),(0,a.jsx)("input",{className:"border rounded-md p-2 mb-4 text-black",type:"text",id:"bname",name:"bname",value:m,onChange:e=>b(e.target.value),placeholder:"Goal Name"}),(0,a.jsx)("label",{className:"mb-2",children:"Total Budget:"}),(0,a.jsx)("input",{type:"number",id:"amount",name:"amount",min:0,value:x,onChange:e=>p(Number(e.target.value)),placeholder:"Total Budget",className:"border rounded-md p-2 mb-4 text-black"}),(0,a.jsx)("label",{className:"mb-2",children:"Due by:"}),(0,a.jsx)("input",{type:"date",id:"date",name:"date",min:0,value:f,onChange:e=>h(e.target.value),placeholder:"Due By",className:"border rounded-md p-2 mb-4 text-black"}),(0,a.jsx)("button",{type:"submit",className:"bg-yellow-400 text-white font-bold py-2 px-4 rounded hover:bg-yellow-500",children:"Update"})]})]})})]})}var u=s(4870);function m(e){let{oid:t}=e,s=(0,u.Eu)(),[r,i]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),[m,b]=(0,n.useState)("Total"),[x,p]=(0,n.useState)([]),[f,h]=(0,n.useState)(null),[g,y]=(0,n.useState)(null),[j,v]=(0,n.useState)(0),[N,w]=(0,n.useState)(0),[k,C]=(0,n.useState)(null),[S,O]=(0,n.useState)(null),[E,T]=(0,n.useState)(null),[I,P]=(0,n.useState)(""),[B,G]=(0,n.useState)(0),[A,D]=(0,n.useState)(""),[L,R]=(0,n.useState)(!1),F=async()=>{let e=await fetch("http://localhost:3000/org/".concat(t,"/budget/?token=").concat(s.user.accessToken)),a=await e.json();p(await Promise.all(a.data.map(async e=>{let a=await fetch("http://localhost:3000/org/".concat(t,"/budget/").concat(e.bid,"?token=").concat(s.user.accessToken));return(await a.json()).data})))},q=async e=>{let t={bid:-1,name:"",amnt:0,total:0,duration:"",continuous:!1};for(let s=0;s<x.length;s++)if(x[s].name==e.target.value){t=x[s];break}h(t.bid),y(t.name),v(t.amnt),w(t.total),C(t.duration),O(t.continuous)},_=async e=>{e.preventDefault(),console.log("Inedit"),d(!1),console.log("We got a submission"),console.log("Inside Edit budget");let a=await fetch("http://localhost:3000/org/".concat(t,"/budget/").concat(f,"?token=").concat(s.user.accessToken),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:I,amnt:B,duration:A,continuous:L})});console.log(await a.json()),d(!1),P(""),G(0),D(""),R(!1),F();let n=await fetch("http://localhost:3000/org/".concat(t,"/budget/").concat(f,"?token=").concat(s.user.accessToken)),r=await n.json();y(r.name),v(r.amnt),w(r.total),C(r.duration),O(r.continuous)},U=async e=>{e.preventDefault(),console.log("We got a submission"),console.log("Inside budget"),console.log(I),console.log(B),console.log(A),console.log(L),console.log("ORG ID "+t);let s=await fetch("http://localhost:3000/org/"+t+"/budget?token=token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:I,total:B,duration:A,continuous:L})});i(!1),P(""),G(0),D(""),R(!1),await F();let a=await s.json();y(a.data.name),v(a.data.amnt),w(a.data.total),C(a.data.duration),O(a.data.continuous);let n=document.getElementById("bDropdown");n.selectedIndex=n.length-1};return(0,n.useEffect)(()=>{(async()=>{let e=await fetch("http://localhost:3000/org/".concat(t,"/budget/?token=").concat(s.user.accessToken)),a=await e.json(),n=await Promise.all(a.data.map(async e=>{let a=await fetch("http://localhost:3000/org/".concat(t,"/budget/").concat(e.bid,"?token=").concat(s.user.accessToken));return(await a.json()).data}));p(n),h(n[0].bid),y(n[0].name),v(n[0].amnt),w(n[0].total),C(n[0].duration),O(n[0].continuous)})()},[s.user.uid]),(0,a.jsxs)("div",{className:"rounded-2xl w-11/12 sm:w-5/6 m-auto mt-10 border",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between mx-10 items-center",children:[(0,a.jsxs)("div",{className:"flex flex-wrap md:flex-nowrap gap-3 items-center",children:[(0,a.jsx)("div",{className:"flex text-center sm:text-left text-4xl font-bold my-5",children:"Budgets"}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("select",{onChange:q,className:"flex rounded-lg w-2/5 sm:w-auto bg-white border-2 border-white text-slate-500 cursor-pointer ",id:"bDropdown",children:x.map((e,t)=>(0,a.jsx)("option",{children:e.name},t))}),(0,a.jsx)("p",{onClick:()=>i(!0),className:"block w-2/5 sm:hidden sm:w-auto text-center rounded-lg border-2 border-green-500 p-2 hover:bg-green-500 cursor-pointer ",children:"Create Budget"})]})]}),(0,a.jsx)("p",{onClick:()=>i(!0),className:"hidden sm:block rounded-lg border-2 border-green-500 p-2 hover:bg-green-500 cursor-pointer ",children:"Create Budget"})]}),(0,a.jsx)("div",{className:"m-10 mt-2 border-t pt-3 flex flex-col justify-between",children:(0,a.jsxs)("div",{className:"flex justify-between pb-2 pt-2",children:[g&&(0,a.jsxs)("p",{className:"pl-2 font-semibold",children:[g," - "]}),(0,a.jsxs)("p",{className:"",children:[j?(0,a.jsxs)(a.Fragment,{children:[" $",j]}):(0,a.jsxs)(a.Fragment,{children:[" $",0,"\xa0"]}),"/",N?(0,a.jsxs)(a.Fragment,{children:[" $",N]}):(0,a.jsxs)(a.Fragment,{children:[" $",0]})]}),k&&(0,a.jsxs)("p",{className:"pl-2",children:["Duration: ",k]})]})}),r&&(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50 backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"outline bg-black/20 p-6 rounded-xl w-11/12 sm:w-3/5 md:w-1/2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"New Budget"}),(0,a.jsx)(l.G,{icon:o.EOp,className:"text-2xl ml-auto cursor-pointer hover:border-white border-2 border-transparent rounded p-1",onClick:()=>{i(!1),P(""),G(0),D(""),R(!1)}})]}),(0,a.jsxs)("form",{onSubmit:U,className:"flex flex-col ",children:[(0,a.jsx)("label",{className:"mb-2",children:"Budget name:"}),(0,a.jsx)("input",{className:"border rounded-md p-2 mb-4 text-black",type:"text",id:"bname",name:"bname",value:I,onChange:e=>P(e.target.value),placeholder:"Budget Name"}),(0,a.jsx)("label",{className:"mb-2",children:"Total Budget:"}),(0,a.jsx)("input",{className:"border rounded-md p-2 mb-4 text-black",type:"number",id:"btotal",name:"btotal",value:B,onChange:e=>G(Number(e.target.value)),placeholder:"Total Budget"}),(0,a.jsx)("label",{className:"mb-2",children:"Go Until:"}),(0,a.jsx)("input",{type:"date",id:"date",name:"date",min:0,value:A,onChange:e=>D(e.target.value),placeholder:"Due By",className:"border rounded-md p-2 mb-4 text-black"}),(0,a.jsxs)("div",{className:"flex gap-2 items-center mb-2",children:[(0,a.jsx)("label",{className:"flex m-0 items-center align-middle",children:"Continuous"}),(0,a.jsx)("input",{className:"border rounded-md p-2 text-black ",type:"checkbox",id:"bcontinuous",name:"bcontinuous",onChange:e=>R(!L),placeholder:"Total Budget"})]}),(0,a.jsx)("button",{className:"bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700",type:"submit",style:{backgroundColor:"#3b82f6"},onClick:()=>{},children:"Create"})]})]})}),c&&(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50 backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"outline bg-black/20 p-6 rounded-xl w-11/12 sm:w-3/5 md:w-1/2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Edit Budget"}),(0,a.jsx)("button",{onClick:()=>{d(!1),P(""),G(0),D(""),R(!1)},className:"text-gray-500 hover:text-gray-700",children:"Close"})]}),(0,a.jsxs)("form",{onSubmit:_,className:"flex flex-col ",children:[(0,a.jsx)("label",{className:"mb-2",children:"Budget name:"}),(0,a.jsx)("input",{className:"border rounded-md p-2 mb-4 text-black",type:"text",id:"bename",name:"bename",value:I,onChange:e=>P(e.target.value),placeholder:"Organization Name"}),(0,a.jsx)("label",{className:"mb-2",children:"Total Budget:"}),(0,a.jsx)("input",{className:"border rounded-md p-2 mb-4 text-black",type:"number",id:"betotal",name:"betotal",value:B,onChange:e=>G(Number(e.target.value)),placeholder:"Total Budget"}),(0,a.jsx)("label",{className:"mb-2",children:"Go Until:"}),(0,a.jsx)("input",{type:"date",id:"date",name:"date",min:0,value:A,onChange:e=>D(e.target.value),placeholder:"Due By",className:"border rounded-md p-2 mb-4 text-black"}),(0,a.jsxs)("div",{className:"flex gap-2 items-center mb-2",children:[(0,a.jsx)("label",{className:"flex m-0 items-center align-middle",children:"Continuous"}),(0,a.jsx)("input",{className:"border rounded-md p-2 text-black ",type:"checkbox",id:"becontinuous",name:"becontinuous",onChange:e=>R(!L),placeholder:"Total Budget"})]}),(0,a.jsx)("button",{className:"bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700",type:"submit",style:{backgroundColor:"#3b82f6"},onClick:()=>{},children:"Edit"})]})]})})]})}function b(e){let{oid:t}=e,[s,r]=(0,n.useState)(0),[i,c]=(0,n.useState)([{bid:-1,name:"Name",price:0,quantity:1}]),[d,u]=(0,n.useState)([]),[m,b]=(0,n.useState)([]);(0,n.useEffect)(()=>{x()},[i]),(0,n.useEffect)(()=>{(async()=>{try{let e=await fetch("http://localhost:3000/org/"+t+"/budget?token=atoken");if(!e.ok)throw Error("Network response was not ok");let s=await e.json();u(s.data),b(d.map(e=>({value:e.bid,label:e.name})))}catch(e){console.error("Error fetching data:",e)}})()},[d]);let x=()=>{let e=0;i.forEach(t=>{e+=t.price*t.quantity}),r(e)},p=(e,t,s)=>{let a=[...i];if("bid"==t){let n=-1;for(let e=0;e<d.length;e++)d[e].name==s&&(n=d[e].bid);a[e]={...a[e],[t]:n}}else a[e]={...a[e],[t]:s};x(),c(a)};async function f(){console.log("entries size: "+i.length);for(let e=0;e<i.length;e++)try{await fetch("http://localhost:3000/org/"+t+"/transaction?token=atoken",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item:i[e].name,qty:i[e].quantity,unitprice:i[e].price,bid:i[e].bid})})}catch(e){console.log(e)}c([{bid:-1,name:"",price:0,quantity:1}])}return(0,a.jsxs)("div",{className:"flex flex-col m-auto mt-10 rounded-2xl w-11/12 sm:w-5/6 border p-5",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("p",{className:"text-4xl font-bold",children:"Transaction List"}),(0,a.jsxs)("p",{className:"text-2xl",children:["Total: $",(0,a.jsx)("strong",{children:isNaN(s)?0:s})]})]}),(0,a.jsx)("hr",{}),(0,a.jsxs)("table",{id:"entryCollection",className:"my-3 border-collapse",children:[(0,a.jsxs)("tr",{className:"italic sm:border-l",children:[(0,a.jsx)("th",{className:"text-start border p-1",children:"Select"}),(0,a.jsx)("th",{className:"text-start border p-1",children:"Item"}),(0,a.jsx)("th",{className:"text-start border p-1",children:"Unit Price"}),(0,a.jsx)("th",{className:"text-start border p-1",children:"Quantity"}),(0,a.jsx)("th",{className:"text-start border p-1",children:"Delete"})]}),i.map((e,t)=>(0,a.jsxs)("tr",{className:"gap-1 items-center ",children:[(0,a.jsx)("td",{className:"border p-1",children:(0,a.jsx)("select",{onChange:e=>e?p(t,"bid",e.target.value):console.log("Couldn't assign bid"),className:"border-none text-black",children:m.map((e,t)=>0!=t?(0,a.jsx)("option",{children:e.label},t):(0,a.jsx)("option",{disabled:!0,selected:!0,children:"select an option"},t))})}),(0,a.jsx)("td",{className:"border p-1",children:(0,a.jsx)("input",{type:"text",value:e.name,placeholder:"Name of item",className:"text-white bg-transparent w-full border-2 border-transparent focus:border-white focus:border-2 focus:ring-0 focus:outline-none",onChange:e=>p(t,"name",e.target.value)})}),(0,a.jsx)("td",{className:"border p-1",children:(0,a.jsx)("input",{type:"number",value:e.price,min:0,placeholder:"Unit price",className:"bg-transparent w-full border-2 border-transparent focus:border-white focus:border-2 focus:ring-0 focus:outline-none",onChange:e=>p(t,"price",parseFloat(e.target.value))})}),(0,a.jsx)("td",{className:"border p-1",children:(0,a.jsx)("input",{type:"number",value:e.quantity,min:1,placeholder:"Quantity",className:"bg-transparent w-full border-2 border-transparent focus:border-white focus:border-2 focus:ring-0 focus:outline-none",onChange:e=>p(t,"quantity",parseInt(e.target.value))})}),(0,a.jsx)("td",{className:"border p-1 text-center",children:(0,a.jsx)(l.G,{onClick:()=>(function(e){let t=[...i];t.splice(e,1),c(t)})(t),icon:o.$aW,className:"text-2xl hover:text-red-600 cursor-pointer text-white text-center mx-auto p-auto"})})]},t))]}),(0,a.jsxs)("div",{onClick:()=>void c([...i,{bid:-1,name:"",price:0,quantity:1}]),className:"flex justify-center items-center w-full border-green-600 border-2 hover:bg-green-600 rounded-lg text-center cursor-pointer font-semibold py-1 my-3",children:[(0,a.jsx)(l.G,{icon:o.r8p,className:" rounded-lg mr-2"}),(0,a.jsx)("p",{children:"Add Item"})]}),(0,a.jsx)("p",{onClick:()=>f(),className:"w-full border-blue-500 border-2 hover:bg-blue-500 rounded-lg text-center cursor-pointer font-semibold py-1 my-3",children:"Submit Transactions"})]})}function x(e){let{oid:t}=e,[s,r]=(0,n.useState)(null),[o,l]=(0,n.useState)([]),[i,c]=(0,n.useState)(o),[d,u]=(0,n.useState)("");return(0,n.useEffect)(()=>{(async()=>{try{let e=await fetch("http://localhost:3000/org/"+t+"?token=atoken");if(!e.ok)throw Error("Network response was not ok");let s=await e.json();r(s.data.orgname)}catch(e){console.error("Error fetching data:",e)}})()},[t]),(0,n.useEffect)(()=>{(async()=>{try{let e=await fetch("http://localhost:3000/org/"+t+"/transaction?token=atoken");if(!e.ok)throw Error("Network response was not ok");let s=await e.json();l(s.data),c(s.data)}catch(e){console.error("Error fetching data:",e)}})()},[t]),(0,a.jsxs)("div",{className:"flex flex-col m-auto mt-10 rounded-2xl w-5/6 border p-5",children:[(0,a.jsx)("div",{className:"flex justify-between",children:(0,a.jsxs)("p",{className:"text-2xl sm:text-4xl font-bold",children:["Transaction History ",s&&" - "+s," "]})}),(0,a.jsx)("hr",{}),(0,a.jsxs)("div",{className:"flex items-center my-4",children:[(0,a.jsx)("h1",{children:"Search Transactions: "}),(0,a.jsx)("input",{type:"text",className:"bg-white text-black w-full border rounded-2xl",value:d,onChange:e=>{let t=e.target.value.toLowerCase();u(t);let s=o.filter(e=>e.item.toLowerCase().includes(t)||e.unitprice.toString().toLowerCase().includes(t)||e.qty.toString().toLowerCase().includes(t));0==s.length&&(s=o),c(s)}})]}),(0,a.jsx)("hr",{}),i.map((e,t)=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:" p-5 grid grid-cols-4 gap-4",children:[(0,a.jsx)("h1",{className:"font-bold",children:e.item}),(0,a.jsxs)("p",{children:["Unit Price: $",e.unitprice]}),(0,a.jsxs)("p",{children:["Quantity Bought: ",e.qty]}),(0,a.jsxs)("p",{className:"text-red-500",children:["Total: $",e.unitprice*e.qty]})]},t),(0,a.jsx)("hr",{})]}))]})}function p(){let{user:e}=(0,u.Eu)(),t=(0,i.useRouter)();(0,n.useEffect)(()=>{e||t.push("/")},[t,e]);let[s,o]=(0,n.useState)(!0),[l,p]=(0,n.useState)(!1),[f,h]=(0,n.useState)(!1),[g,y]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{document.documentElement.style.fontSize="".concat(localStorage.getItem("fontRatio"),"px")},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.Z,{showProfile:!0}),(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)(c,{overview:o,goals:p,transactions:h,transactionHistory:y}),(0,a.jsxs)("div",{className:"flex flex-wrap justify-evenly w-full h-screen",children:[s&&(0,a.jsx)(m,{oid:Number(window.location.pathname.split("/")[2])}),l&&(0,a.jsx)(d,{oid:Number(window.location.pathname.split("/")[2])}),f&&(0,a.jsx)(b,{oid:Number(window.location.pathname.split("/")[2])}),g&&(0,a.jsx)(x,{oid:Number(window.location.pathname.split("/")[2])})]})]})]})}},5994:function(e,t,s){"use strict";s.d(t,{Z:function(){return m}});var a=s(3827),n=s(4090),r=s(8792),o=s(3819),l=s(7907),i=s(4907),c=s(7535),d=s(4870);let u={showProfile:!1,isProfilePage:!1};function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{...u},[t,s]=(0,n.useState)(!1),[m,b]=(0,n.useState)([]),{user:x}=(0,d.Eu)(),p=(0,l.useRouter)(),f=async()=>{console.log("hellooo i am coming to log out now");let{result:e,error:t}=await (0,o.Z)();console.log("response: ",e),console.log("error: ",t),p.push("/")};return(0,a.jsxs)("nav",{className:"flex border-b-4 border-b-white py-2 items-center",children:[(0,a.jsx)(r.default,{href:"../welcome",className:"items-center flex flex-1 ml-4",children:(0,a.jsx)("p",{className:"text-4xl font-extrabold",children:"Budget Buddy"})}),e.showProfile&&!e.isProfilePage&&(0,a.jsxs)("div",{className:"flex items-center justify-end flex-1",children:[(0,a.jsx)(i.G,{icon:c.wK3,onClick:()=>{s(!0)},className:"mr-4 text-2xl cursor-pointer rounded-lg hover:bg-white hover:text-black p-1"}),(0,a.jsxs)(r.default,{href:"../profile",className:"text-white font-medium rounded-2xl px-3 mr-4 float-right border-white border-2 hover:cursor-pointer hover:bg-white hover:text-sky-900 ",children:[(0,a.jsx)(i.G,{icon:c.ILF,className:"sm:hidden"}),(0,a.jsx)("p",{className:"hidden sm:block",children:"Profile"})]})]}),e.isProfilePage&&(0,a.jsxs)("button",{onClick:f,className:"text-white font-medium rounded-2xl px-3 mr-4 float-right border-white border-2 hover:cursor-pointer hover:bg-white hover:text-sky-900 ",children:[(0,a.jsx)(i.G,{icon:c.HEx,className:"sm:hidden"}),(0,a.jsx)("p",{className:"hidden sm:block",children:"Logout?"})]}),t&&(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50 backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"outline bg-black/20 p-6 rounded-xl w-11/12 sm:w-3/5 md:w-1/2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold",children:"Messages"}),(0,a.jsx)(i.G,{icon:c.EOp,onClick:()=>s(!1),className:"text-xl ml-auto cursor-pointer hover:border-white border-2 border-transparent rounded px-1"})]}),(0,a.jsx)("hr",{className:"mb-4"}),m.map((e,t)=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("p",{className:"text-2xl font-semibold",children:e.title}),(0,a.jsx)("p",{className:"italic",children:new Date(e.time).toLocaleString()})]}),(0,a.jsx)("p",{className:"py-1 px-2 border rounded-md bg-black/70 mb-2",children:e.text}),e.link&&(0,a.jsxs)("div",{className:"flex w-full justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center w-1/2 bg-green-500 font-bold py-2 px-4 rounded hover:bg-green-700 cursor-pointer",children:[(0,a.jsx)(i.G,{icon:c.LEp,className:"text-2xl scale-y-1 cursor-pointer"}),(0,a.jsx)("p",{children:"Accept"})]}),(0,a.jsxs)("div",{className:"flex gap-2 items-center w-1/2 bg-red-600  font-bold py-2 px-4 rounded hover:bg-red-800 cursor-pointer",children:[(0,a.jsx)(i.G,{icon:c.EOp,className:"text-2xl scale-y-1 cursor-pointer"}),(0,a.jsx)("p",{children:"Reject"})]})]})]},t))]})})]})}},4870:function(e,t,s){"use strict";s.d(t,{Eu:function(){return c},HD:function(){return d}});var a=s(3827),n=s(4090),r=s(2730),o=s(9557);let l=(0,r.v0)(o.Z),i=n.createContext({}),c=()=>n.useContext(i),d=e=>{let{children:t}=e,[s,o]=n.useState(null),[c,d]=n.useState(!0);return n.useEffect(()=>{let e=(0,r.Aj)(l,e=>{e?o(e):o(null),d(!1)});return()=>e()},[]),(0,a.jsx)(i.Provider,{value:{user:s},children:c?(0,a.jsx)("div",{children:"Loading..."}):t})}},3819:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var a=s(9557),n=s(2730);let r=(0,n.v0)(a.Z);async function o(){let e=null;return(0,n.w7)(r).then(()=>{e="yippe"}).catch(t=>{e="error happened."}),{result:e,error:null}}},9557:function(e,t,s){"use strict";var a=s(6142);let n=0===(0,a.C6)().length?(0,a.ZF)({apiKey:"AIzaSyC-Sn8RuFy4Tpq8T43s-0EwH6wmbAsuNIc",authDomain:"josh-b240a.firebaseapp.com",projectId:"josh-b240a",storageBucket:"josh-b240a.appspot.com",messagingSenderId:"1030936495421",appId:"1:1030936495421:web:734c0da55458cbfb463154"}):(0,a.C6)()[0];t.Z=n}},function(e){e.O(0,[54,676,498,250,971,69,744],function(){return e(e.s=9089)}),_N_E=e.O()}]);